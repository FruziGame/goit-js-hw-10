{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dataInput = document.querySelector(\"#datetime-picker\");\nconst button = document.querySelector(\"button[data-start]\");\n\nbutton.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    userSelectedDate = selectedDates[0];\n    checkData();\n  },\n};\n\nconst datePicker = flatpickr(dataInput, options);\n\nlet userSelectedDate;\n\nfunction checkData() {\n  const currentData = new Date();\n\n  if (userSelectedDate.getTime() < currentData.getTime()) {\n    button.disabled = true;\n\n    iziToast.show({\n      color: 'red',\n      message: 'Please choose a date in the future',\n      position: \"topCenter\"\n    });\n  } else {\n    button.disabled = false;\n  }\n}\n\nbutton.addEventListener(\"click\", () => {\n  button.disabled = true;\n  dataInput.disabled = true;\n  tick();\n});\n\nfunction tick() {\n  const intervalId = setInterval(() => {\n    const currentTime = new Date();\n    const getDataMs = userSelectedDate.getTime() - currentTime.getTime();\n\n    updateTimerDisplay(getDataMs);\n\n    if (getDataMs <= 0) {\n      clearInterval(intervalId);\n      resetTimerDisplay();\n      dataInput.disabled = false;\n    }\n  }, 1000);\n}\n\nfunction updateTimerDisplay(ms) {\n  const timeObject = convertMs(ms);\n  document.querySelector('[data-days]').textContent = String(timeObject.days).padStart(2, '0');\n  document.querySelector('[data-hours]').textContent = String(timeObject.hours).padStart(2, '0');\n  document.querySelector('[data-minutes]').textContent = String(timeObject.minutes).padStart(2, '0');\n  document.querySelector('[data-seconds]').textContent = String(timeObject.seconds).padStart(2, '0');\n}\n\nfunction resetTimerDisplay() {\n  document.querySelector('[data-days]').textContent = '00';\n  document.querySelector('[data-hours]').textContent = '00';\n  document.querySelector('[data-minutes]').textContent = '00';\n  document.querySelector('[data-seconds]').textContent = '00';\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["dataInput","button","options","selectedDates","userSelectedDate","checkData","flatpickr","currentData","iziToast","tick","intervalId","currentTime","getDataMs","updateTimerDisplay","resetTimerDisplay","ms","timeObject","convertMs","days","hours","minutes","seconds"],"mappings":"+IAMA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAS,SAAS,cAAc,oBAAoB,EAE1DA,EAAO,SAAW,GAElB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BC,EAAmBD,EAAc,CAAC,EAClCE,GACD,CACH,EAEmBC,EAAUN,EAAWE,CAAO,EAE/C,IAAIE,EAEJ,SAASC,GAAY,CACnB,MAAME,EAAc,IAAI,KAEpBH,EAAiB,QAAO,EAAKG,EAAY,QAAO,GAClDN,EAAO,SAAW,GAElBO,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,qCACT,SAAU,WAChB,CAAK,GAEDP,EAAO,SAAW,EAEtB,CAEAA,EAAO,iBAAiB,QAAS,IAAM,CACrCA,EAAO,SAAW,GAClBD,EAAU,SAAW,GACrBS,GACF,CAAC,EAED,SAASA,GAAO,CACd,MAAMC,EAAa,YAAY,IAAM,CACnC,MAAMC,EAAc,IAAI,KAClBC,EAAYR,EAAiB,QAAS,EAAGO,EAAY,QAAO,EAElEE,EAAmBD,CAAS,EAExBA,GAAa,IACf,cAAcF,CAAU,EACxBI,IACAd,EAAU,SAAW,GAExB,EAAE,GAAI,CACT,CAEA,SAASa,EAAmBE,EAAI,CAC9B,MAAMC,EAAaC,EAAUF,CAAE,EAC/B,SAAS,cAAc,aAAa,EAAE,YAAc,OAAOC,EAAW,IAAI,EAAE,SAAS,EAAG,GAAG,EAC3F,SAAS,cAAc,cAAc,EAAE,YAAc,OAAOA,EAAW,KAAK,EAAE,SAAS,EAAG,GAAG,EAC7F,SAAS,cAAc,gBAAgB,EAAE,YAAc,OAAOA,EAAW,OAAO,EAAE,SAAS,EAAG,GAAG,EACjG,SAAS,cAAc,gBAAgB,EAAE,YAAc,OAAOA,EAAW,OAAO,EAAE,SAAS,EAAG,GAAG,CACnG,CAEA,SAASF,GAAoB,CAC3B,SAAS,cAAc,aAAa,EAAE,YAAc,KACpD,SAAS,cAAc,cAAc,EAAE,YAAc,KACrD,SAAS,cAAc,gBAAgB,EAAE,YAAc,KACvD,SAAS,cAAc,gBAAgB,EAAE,YAAc,IACzD,CAEA,SAASG,EAAUF,EAAI,CAMrB,MAAMG,EAAO,KAAK,MAAMH,EAAK,KAAG,EAC1BI,EAAQ,KAAK,MAAOJ,EAAK,MAAO,IAAI,EACpCK,EAAU,KAAK,MAAQL,EAAK,MAAO,KAAQ,GAAM,EACjDM,EAAU,KAAK,MAASN,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAG,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}