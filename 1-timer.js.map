{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nconst dataInput = document.querySelector(\"#datetime-picker\");\nconst button = document.querySelector(\"button[data-start]\");\n\nbutton.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      console.log(selectedDates[0]);\n      userSelectedDate = selectedDates[0];\n      userSelectedDate.getTime()\n      checkData()\n    },\n  };\n\n  \n  const datePicker = flatpickr(dataInput, options);\n\n\nlet userSelectedDate;\nlet timeObject;\nlet getDataMs;\n\nfunction checkData() {\n\n\n  let currentData = new Date();\n\n    if (userSelectedDate.getTime() < currentData.getTime()) {\n\n      button.disabled = true;\n      window.alert(\"Please choose a date in the future\");\n      \n     } else {\n\n      button.disabled = false;\n      getDataMs = userSelectedDate.getTime() - currentData.getTime();\n    }\n}\n\n\nbutton.addEventListener(\"click\", () => {\n    console.log(\"started\")\n    button.disabled = true;\n\n  //    не работает все \n  //   datePicker.set('clickOpens', false);\n  //   datePicker.set('allowInput', false);\n  //   dataInput.disabled = true;\n   \n  //  dataInput.addEventListener(\"click\", (e) => {\n  //     e.preventDefault(); // Запрещаем открытие при клике\n  // }); \n\n    tick()\n});\n\n\n\nfunction tick() {\n\n\n   let intervalId = setInterval(() => {\n\n    timeObject = convertMs(getDataMs);\n    console.log(timeObject);\n\n    document.querySelector('[data-days]').textContent = String(timeObject.days).padStart(2, '0');\n    document.querySelector('[data-hours]').textContent = String(timeObject.hours).padStart(2, '0');\n    document.querySelector('[data-minutes]').textContent = String(timeObject.minutes).padStart(2, '0');\n    document.querySelector('[data-seconds]').textContent = String(timeObject.seconds).padStart(2, '0');\n\n    getDataMs -= 1000;\n\n    if(getDataMs <= 0) {\n      clearInterval(intervalId);\n      return;\n    }\n\n  }, 1000);\n}\n\n\n\n\n// наприклад addLeadingZero(value), \n// яка використовує метод рядка padStart() і перед відмальовуванням \n// інтерфейсу форматує значення.\n\n\n\n\n\n\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n\n\n\n\n\n\n\n\n \n\n\n"],"names":["dataInput","button","options","selectedDates","userSelectedDate","checkData","flatpickr","timeObject","getDataMs","currentData","tick","intervalId","convertMs","ms","days","hours","minutes","seconds"],"mappings":"0xBASA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAS,SAAS,cAAc,oBAAoB,EAE1DA,EAAO,SAAW,GAElB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BC,EAAmBD,EAAc,CAAC,EAClCC,EAAiB,QAAS,EAC1BC,EAAW,CACZ,CACL,EAGqBC,EAAUN,EAAWE,CAAO,EAGjD,IAAIE,EACAG,EACAC,EAEJ,SAASH,GAAY,CAGnB,IAAII,EAAc,IAAI,KAEhBL,EAAiB,QAAO,EAAKK,EAAY,QAAO,GAElDR,EAAO,SAAW,GAClB,OAAO,MAAM,oCAAoC,IAIjDA,EAAO,SAAW,GAClBO,EAAYJ,EAAiB,QAAS,EAAGK,EAAY,QAAO,EAElE,CAGAR,EAAO,iBAAiB,QAAS,IAAM,CACnC,QAAQ,IAAI,SAAS,EACrBA,EAAO,SAAW,GAWlBS,EAAM,CACV,CAAC,EAID,SAASA,GAAO,CAGb,IAAIC,EAAa,YAAY,IAAM,CAYlC,GAVAJ,EAAaK,EAAUJ,CAAS,EAChC,QAAQ,IAAID,CAAU,EAEtB,SAAS,cAAc,aAAa,EAAE,YAAc,OAAOA,EAAW,IAAI,EAAE,SAAS,EAAG,GAAG,EAC3F,SAAS,cAAc,cAAc,EAAE,YAAc,OAAOA,EAAW,KAAK,EAAE,SAAS,EAAG,GAAG,EAC7F,SAAS,cAAc,gBAAgB,EAAE,YAAc,OAAOA,EAAW,OAAO,EAAE,SAAS,EAAG,GAAG,EACjG,SAAS,cAAc,gBAAgB,EAAE,YAAc,OAAOA,EAAW,OAAO,EAAE,SAAS,EAAG,GAAG,EAEjGC,GAAa,IAEVA,GAAa,EAAG,CACjB,cAAcG,CAAU,EACxB,MACD,CAEF,EAAE,GAAI,CACT,CAeA,SAASC,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}